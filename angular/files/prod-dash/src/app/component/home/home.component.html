<div class="flex gap-x-60 bg-red-100">
  <div class="ml-5">
    <div class="flex justify-center items-center py-4">
      <div class="relative">
        <input type="text" (keyup.enter)="getSearchResult()" [(ngModel)]="productname" placeholder="Search Products" class="border border-red-300 w-80 rounded-lg py-2 px-6 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent" />
      </div>
    </div>
  </div>

  <div>
    <form>
      <mat-form-field>
        <mat-label>Select category</mat-label>
        <mat-select>
          <mat-option (click)="getAllProducts()">All</mat-option>
          <div *ngFor="let item of categories">
            <mat-option [value]="item" (click)="getcat(item)">{{item}}</mat-option>
          </div>  
          <!-- <mat-option>{{item.category}}</mat-option> -->
        </mat-select>
      </mat-form-field>
    </form>
</div>
</div>  

<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

    <!-- Title Column -->
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef> Title </th>
      <td mat-cell *matCellDef="let element"> {{ element.title }} </td>
    </ng-container>

    <!-- category Column -->
    <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef> Category </th>
        <td mat-cell *matCellDef="let element"> {{ element.category }} </td>
    </ng-container>

    <!-- Price Column -->
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef> Price ($)</th>
      <td mat-cell *matCellDef="let element"> {{ element.price }} </td>
    </ng-container>

     <!-- action Column -->
     <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element"> 
            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="addProduct()">
                  <span>Create</span>
                </button>
                <button mat-menu-item (click)="update(element.id)">
                  <span>Update</span>
                </button>
                <button mat-menu-item (click)="del(element.id)">
                  <span>Delete</span>
                </button>
                <button mat-menu-item (click)="viewProduct(element.id)">
                    <!-- <mat-icon>notifications_off</mat-icon> -->
                    <span>View</span>
                  </button>
              </mat-menu>      
        </td>
      </ng-container>

    <!-- Rating Column -->
    <ng-container matColumnDef="rating">
      <th mat-header-cell *matHeaderCellDef> Rating </th>
      <td mat-cell *matCellDef="let element"> {{ element.rating }} </td>
    </ng-container>

    <!-- Table Header and Rows -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
  
  